## 대안 제시

- ‘아니오’ 라고 말하려면 문제를 분석하고 대안을 함께 제시할 수 있어야 한다.
- 대안을 모르겠다면 최대한 이른 시점에 정직하게 알려야 한다. 그리고 뭔가 약속은 할 수 없더라도 문제 대응이 어떻게 되고 있는지 진척 상황을 계속 공유해야 한다.

### 뜻밖의 실용적인 대안

- 문제를 일찍 발견하고 공유하면 팀이 모두 머리를 맞대어 어떻게든 대안을 마련할 수 있다. (마련이 안된다면 어떻게하지..) 처음엔 배제했던 선택지가 오히려 더 적절한 해결책임을 발견할 수도 있다.

## 깨어 있는 관리자

- 훌륭한 관리자들은 자신이 개발팀의 일부이며 개발자들과 함께 공동의 목표를 위해서 일한다는 것을 이해한다.
    - (개발자가 관리자에게 신뢰를 주는 것도 중요하다. 지금껏 ‘예’라고 말할 때마다 목표를 달성해왔다면 ‘아니오’라고 할 때 관리자들은 우리를 더 많이 믿어 줄 것이다.)
- 문제를 숨기지 않고 드러내는 태도는 모두가 하나의 팀으로서 공동의 목표를 위해 일하고 있다는 징표다.
- 관리자는 팀의 한 부분이다.
    - 관리자도 팀과 동고동락해야 한다. (팀이 야근하면 함께 야근하고 격려가 될 만한 일들과 지원을 한다.)
    - 좋은 관리자는 외부의 압력으로부터 개발자를 보호하고 팀이 가진 장애요소들을 제거한다.
        - 팀원들이 편안한 마음으로 자신감을 갖고 일할 수 있도록 해준다.
    - 팀을 건강하고 행복하고 단결되게 하는 것은 관리자의 직무다.

## 요약

고객이 무엇을 가장 필요로 하는지, 그것을 얻기 위한 최선의 방법을 도우며 조언하는 것이 우리의 일이다.

- 고객에게 해가 되는 일이라면 고객이 돈을 지불하고 그것을 원한다고 하더라도 하지 않는다.
- 고객이 내리는 결정이 소프트웨어 프로젝트에 어떤 영향을 줄지 고객 스스로 이해하고 있다고 기대하기 어렵다. 그러니 이 부분을 우리가 파악해서 알려줘야 한다. 불가능할 때 ‘아니오’라고 말하자. 이는 변호사, 회계사, 의사같은 다른 프로페셔널에게 기대하는 바와 같다.
- 프로페셔널이 문제를 찾아 들고가서, 이 문제를 다룰 방법을 고객에게 알려주고 선택할 수 있게 해야한다.

# 챕터 6 - 동작하는 소프트웨어

## 동작하는 소프트웨어만으로는 부족하다

소프트웨어에 대한 개념이 ‘고품질의 동작하는 소프트웨어’로 옮겨가고 있다.

- 애자일 선언문의 일부만을 이용해 저품질의 코드로 소프트웨어를 만드는 애자일 팀들이 많다.

뭔가 하나를 수정하면 빌드, 수동 테스트, 버그 수정을 거쳐야 하고 이걸 계속 반복하는걸 용납할 수 있나? 이런 상황들은 품질에 대한 개념을 완전히 잃어 버렸거나 그냥 주어진 상황을 체념하고 받아들이는 것과 같다. (휴…)

## 정원 돌보기

코드는 정원처럼 지속적인 유지보수가 필요하다.

정기적으로 살피지 않으면 변화가 있을 때마다 상태가 나빠진다. 결국 유지보수에 드는 비용과 노력이 감당할 수 없을 만큼 커져버린다.

## 보이지 않는 위협

새 프로젝트를 할 때는 모든게 훌륭하다. 개발속도도 빠르고 QA도 회귀 테스트가 필요치 않으니 비용이 적다. 코드 퀄리티를 신경쓰지 않고 이렇게 계속 개발한다면 아주 천천히 모든 것이 느려진다. 너무 느려서 관리자도 개발자도 눈치채기 어렵다.

코드의 품질에 신경쓸 시간이 없다고 말하는 사람들이 많다. 그런데 그런 낮은 품질때문에 생긴 버그를 수정하는 시간과 테스트 시간은 어디서 나오는가? (둘 다 시간이 필요하다면 이렇게 쓰기보다는 코드의 품질 향상에 쓰는 것이 생산적이다)

### 자신이 만든 소프트웨어에 인질이 되는 상황

기능 수정/추가시 코드베이스에 너무 많은 시간을 들여야 하거나, 개발자가 기존 코드에 손대는 것을 두려워 한다면 지체 없이 대응해야 한다.

(수정에 두려움이 느껴지는 코드가 아니라면 거기에 너무 많은 노력을 쏟는 것은 자원 낭비 아닐까? 두려움은 개인마다 차이가 있고 원인도 다양하겠지만..)

- 나쁜 코드를 다루는 기업은 경쟁력이 떨어진다. 기능 개발에 드는 시간 비용이 발목을 잡고, 비즈니스 의사결정에 영향을 준다.
- 나쁜 코드는 개발자들만 알 수 있다. 이로 인한 문제가 겉으로 드러나면 이미 늦은거다. 관리자가 이런 상황을 예방해야 한다.
    - 이해관계자들이 나쁜 코드의 악영향을 이해하게 도와야 하고, 개발자들은 나쁜 코드때문에 문제가 생기면 상황을 제대로 설명해야 한다.

### 평범한 개발자가 아닌 장인을 고용하라

장인은 꾸준히 코드 베이스를 돌보고 두려움 없이 빠르게 리팩터링을 한다. 자동화 테스트를 구축하고 활용할 줄 안다. 좋은 디자인 원칙들과 테크닉을 전체 애플리케이션 생애에 걸쳐 적용한다.

우리 업계는 이제서야 코드의 품질이 프로젝트 실패의 핵심 요인이 될 수 있다는 것을 배우고 있다.

## 시간에 대한 잘못된 인식

### 기술적 부채에 대한 이야기

기술적 부채를 쌓지 말아야 한다. 깨끗한 상태를 더럽혀선 안 된다.

(코드가 자신이 할 일을 잘 표현하고 있는가, 비즈니스 용어를 코드에 활용하는가, 테스트 코드가 있는가. 문제가 있어선 안된다.)

### 우리는 올바른 것을 하길 원한다

개발자들이 일부러 나쁜 코드를 작성하는 것은 아니다. 다만 항상 왜 그렇게 될 수밖에 없었는지 핑곗거리를 찾는다.

애자일 팀의 개발자는 사실 스스로를 압박하는 경우가 많다.

- 비즈니스 관계자들은 오히려 개발자의 계획과 예측에 의존하게 된다. 그럼에도 우리는 일을 서두르고 일을 제대로 할 시간이 없다고 얘기한다.

더 빨리 해야 한다고 느끼기 때문이다.

- 구현을 최대한 빨리 끝내는게 미덕이라고 생각한다. 버그가 있어도 정해진 일정 안에 제품을 전달하는게 우선이라고 생각한다.

“빨리 하는 것과 허술한 것은 다르다.”

- 우리의 결정이 어떤 의미이고 어떤 결과를 가져오는지 우리는 잘 이해하지 못할 때가 많다.
  - (아마도.. 아래 얘기하듯이 우리의 허술함이 팀 전체의 리소스 소모로 이어진다는 얘기겠지?)

### 시간적 여유가 없는 바쁜 팀

비효율적으로 개발하는 것을 그만두고, 자동화된 단위 테스트를 작성해라.

### 내겐 없는 여유, 다른 누군가에겐 있는 여유

**내가 코드를 작성하면 그에 관계된 다른 개발자들, QA, 기타 이해관계자들 모두에게 비용이 발생한다는 점을 상기하자. 이 비용을 줄일 수 있는 방법이 단위테스트다.**

테스터는 아무런 문제도 발견할 수 없어야 한다.

개발팀이 자동화할 수 있는 테스트를 QA가 매번 수동으로 수행하느라 시간을 낭비해서는 안 된다.

디버깅에 익숙해지기보다 테스트를 통해 버그를 미리 대응한다.

### 단위 테스트 작성은 별개의 업무인가

1. 단위 테스트는 우리가 코드를 작성하는 방식에 이미 녹아있는 것이지 별도의 작업이 아니다.
    1. 기능 구현 완료에는 단위 테스트의 구현 및 테스트 완료까지 포함되어야 한다.
2. 별개의 작업으로 일정표에 올려놓는다면 PO가 그 작업을 삭제할 수 있는 권리를 준다는 것과 같다.
    1. 삭제시 파급되는 문제들을 모르고 삭제할 수 있다.

**자신의 작업시간만 생각지 말아라. 전체 프로젝트에 관계된 다른 사람들이 시스템을 테스트하고 디버깅하느라 얼마나 많은 시간을 소모해야 하는지 생각해라.**

- 자신이 짠 코드는 내가 잘 알고있고 문제가 없을테니 테스트 코드를 따로 안 만들어도 된다고 주장하는 개발자는 대단히 자기 중심적이고 이기적인 사람이다.
- 시스템이 커짐에 따라 프로젝트에 관계된 모든 사람들이 개인의 작은 이기적 행동들 때문에 피해를 입게 된다.

### 효율적인 시간 활용

고용주들이 관심사는 소프트웨어가 그들의 필요를 충족시키느냐이다. 요구사항의 변화 속도만큼 소프트웨어의 변화 속도도 빠르기를 희망한다. 이러한 기대를 충족시키는 것이 우리들의 과업이다.

- 단순 반복 작업을 자동화해라.
- 새로운 기능이 매끄럽게 통합될 수 있도록 사전 정비 작업을 해라.
- 업무 계획과 일정 추산시 좋은 코드와 좋은 개발환경을 만드는 데 필요한 것도 함께 고려해라.
- 수동 테스트, 디버깅, 오래 걸리는 빌드, 까다로운 배포, 복잡한 프로젝트 개발 환경 설정같은 것에 시간을 덜 빼앗길수록 애플리케이션의 품질에 더 신경쓸 수 있고 고객을 행복하게 할 수 있다.

## 레거시 코드

### 태도의 변화

무언가 나아지길 원한다면 그에 맞는 행동을 취해야 한다.

레거시 코드 다루기

- 보이스카웃 규칙을 지속적으로 적용한다.
- 레거시 코드를 작은 부분씩 집중해서 차근차근 이해해 나간다. 그리고 개선한다.
- 테스트 코드를 작성하고, 간단한 리팩터링을 하면서 이해하기 쉽고 다루기 편하게 만들어간다.

레거시 코드를 재미있고 도전적인 문제로 바라보자.

- 레거시 코드를 엉망이라고 말하거나 비웃기는 쉽다. 하지만 나라면 더 잘 만들 수 있는가? 라고 스스로에게 물어보아야 한다.
- (서비스를 지금까지 지탱해준 레거시 코드에 대한 감사한 마음도..)

### 고객과 개발자 모두의 만족

코드 리팩터링은 중독될 정도로 정말 재미있을 때가 있다. 즐겁게 일하는 것은 좋지만 항상 우리가 대가를 지불받고 있는 프로페셔녈이라는 사실을 잊지 않고 고객이 비즈니스 목적을 달성토록 주의를 기울여야 한다.

- 고객은 투자를 할 때 마다 최대의 이익이 있기를 원한다. 우리는 그렇게 될 수 있도록 일을 해야한다.
- 소프트웨어를 깨끗하게 할수록 고객은 그 소프트웨어를 통해 더 오랫동안 이익을 얻을 수 있고, 고객의 투자 이익이 극대화된다.

## 요약

몇 주나 몇 개월 이상 유지보수를 해야 하는 소프트웨어라면, 품질을 희생해서라도 빨리 끝낼 수 있다는 것은 어쩌면 환상이라고 생각한다. 많은 기업들이 자신의 소프트웨어에 인질로 잡혀 있다. (변경하기 쉬운 소프트웨어여야 비즈니스의 민첩성이 좋아지고, 시장 환경의 변화에 기업이 빠르게 대응할 수 있다.)

회사와 개발자들은 정기적으로 도끼날을 가는 시간이 낭비가 아니라는 사실을 이해해야 한다.

- (정기적이라는게 ‘프로젝트 한번 끝날때마다’ 정도가 아니라고 생각한다. 코드를 작성할 때 마다. 보이스카웃 규칙.)
